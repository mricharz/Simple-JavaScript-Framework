jQuery.require("com.nysoft.nyas.core.BaseObject");jQuery.require("com.nysoft.nyas.ui.Canvas.Vector");com.nysoft.nyas.core.BaseObject.extend("com.nysoft.nyas.ui.Canvas.CanvasObject",{meta:{id:"string",vector:"object",rotation:"number",rotationPoint:"object"},init:function(a){this.setProperties(a);(!this.getId())&&this.setId(this.className+"-"+jQuery.uniqueId());(!this.getVector())&&this.setVector(new com.nysoft.nyas.ui.Canvas.Vector(0,0));(!this.getRotation())&&this.setRotation(0)},addRotation:function(a){if(typeof a=="number"){this.setProperty("rotation",this.getProperty("rotation")+a)}},moveToVector:function(a){a.getContext().moveTo(this.getVector().getX(),this.getVector().getY())},applyRotation:function(d,e,b){var c=0,a=0;if(this.getRotationPoint()){c=this.getRotationPoint().getX();a=this.getRotationPoint().getY()}else{c=this.getVector().getX()+parseInt(e,10)/2;a=this.getVector().getY()+parseInt(b,10)/2}d.getContext().translate(c,a);d.getContext().rotate(jQuery.deg2rad(this.getRotation()));d.getContext().translate(-c,-a)},render:function(){},animate:function(a,b){if(jQuery.isFunction(b)){b.call(this)}a.animate(jQuery.proxy(this.animate,this));return{stop:function(){},start:function(){}}}});