jQuery.require("com.nysoft.nyas.ui.Canvas.StrokeAndFillObject");jQuery.require("com.nysoft.nyas.ui.Canvas.Text.Style");jQuery.require("com.nysoft.nyas.ui.Canvas.Text.Baseline");com.nysoft.nyas.ui.Canvas.StrokeAndFillObject.extend("com.nysoft.nyas.ui.Canvas.Text",{meta:{text:"string",fontFamily:"string",fontSize:"string",fontStyle:"string",baseline:"string"},init:function(a){this.setProperties(a);(!this.getFontFamily())&&this.setFontFamily("Open Sans");(!this.getFontSize())&&this.setFontSize("12px");(!this.getFontStyle())&&this.setFontStyle("normal");(!this.getBaseline())&&this.setBaseline(com.nysoft.nyas.ui.Canvas.Text.Baseline.Alphabetic);this._super("init",a)},_prepareFontString:function(){return this.getFontStyle()+" "+this.getFontSize()+" "+this.getFontFamily()},render:function(b){b.getContext().save();var a=b.getContext().measureText(this.getText());this.applyRotation(b,a,this.getFontSize());b.getContext().font=this._prepareFontString();b.getContext().baseline=this.getBaseline();this.applyStrokeSettings(b);if(this.isStroked()){b.getContext().strokeText(this.getText(),this.getVector().getX(),this.getVector().getY())}this.applyFillSettings(b);if(this.isFilled()){b.getContext().fillText(this.getText(),this.getVector().getX(),this.getVector().getY())}b.getContext().restore()}});