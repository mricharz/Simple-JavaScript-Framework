jQuery.require("com.nysoft.nyas.core.BaseObject");jQuery.require("css/com/nysoft/nyas/ui.css",{dataType:"stylesheet"});com.nysoft.nyas.core.BaseObject.extend("com.nysoft.nyas.ui.Canvas",{meta:{id:"string",dom:"object",canvas:"object",background:"object"},init:function(a,b){if(a){this.setDom(a)}else{this.setDom(jQuery("<div />"))}this.setProperties(b);(!this.getId())&&this.setId(jQuery.utils.uniqueId());this._renderCanvasControl();window.addEventListener("orientationchange",jQuery.proxy(this._updateCanvasSize,this))},_updateCanvasSize:function(){var a=this.getDom().parent()||jQuery("body");this.getDom().css("height",a.innerHeight());this.getDom().css("width",a.innerWidth());this.getCanvas().get(0).height=a.innerHeight();this.getCanvas().get(0).width=a.innerWidth()},_renderCanvasControl:function(){this.getDom().attr("id",this.getId());if(!this.getDom().hasClass("canvas")){this.getDom().addClass("canvas")}this.setBackground(jQuery('<div id="'+this.getId()+'-bg" class="canvas-background" />'));this.getDom().append(this.getCanvas());this.setCanvas(jQuery('<canvas id="'+this.getId()+'-canvas" />'));this.getDom().append(this.getCanvas())}});